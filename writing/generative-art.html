<!DOCTYPE html><html><head><meta charSet="utf-8"/><link rel="icon" type="image/svg+xml" href="/favicons/favicon.svg"/><link rel="mask-icon" href="/favicons/favicon-flat.svg" color="#8A8A8A"/><link rel="apple-touch-icon" href="/favicons/apple-touch-icon.png"/><link rel="icon" type="image/svg+xml" href="/favicons/favicon.svg"/><link rel="mask-icon" href="/favicons/favicon-flat.svg" color="#8A8A8A"/><link rel="apple-touch-icon" href="/favicons/apple-touch-icon.png"/><meta name="viewport" content="initial-scale=1.0, width=device-width"/><meta name="theme-color" content="#222222"/><title>Creating Generative Art with D3</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="The personal site of Jainam Shah credit by philipcdavis"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:creator" content="@sph_ere"/><meta property="og:title" content="Creating Generative Art with D3"/><meta property="og:description" content="The personal site of Jainam Shah credit by philipcdavis"/><meta property="og:site_name" content="Jainam Shah"/><meta name="next-head-count" content="18"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-51640724-1"></script><script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'UA-51640724-1', {
              page_path: window.location.pathname,
              'anonymize_ip': true
            });
          </script><link rel="preload" href="/_next/static/css/c9bcd546fdbf7c6b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c9bcd546fdbf7c6b.css" data-n-g=""/><link rel="preload" href="/_next/static/css/43acf1e52ca0ca16.css" as="style"/><link rel="stylesheet" href="/_next/static/css/43acf1e52ca0ca16.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-f61b98a3487640ff.js" defer=""></script><script src="/_next/static/chunks/framework-e1babbef7b8636d2.js" defer=""></script><script src="/_next/static/chunks/main-7d56226aa235ba8d.js" defer=""></script><script src="/_next/static/chunks/pages/_app-d56a578e17a10de1.js" defer=""></script><script src="/_next/static/chunks/459-0b2050d48777a00c.js" defer=""></script><script src="/_next/static/chunks/675-40f8ef2a9f17a480.js" defer=""></script><script src="/_next/static/chunks/103-987fd23797c74cb3.js" defer=""></script><script src="/_next/static/chunks/pages/writing/%5Bid%5D-75f2a9052b471773.js" defer=""></script><script src="/_next/static/dQT8d4wxZEc21rnXIq5MT/_buildManifest.js" defer=""></script><script src="/_next/static/dQT8d4wxZEc21rnXIq5MT/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><style data-emotion-css="l3rx45">.css-l3rx45{box-sizing:border-box;margin:0;min-width:0;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}</style><div class="css-l3rx45"><style data-emotion-css="1mhpbg6">.css-1mhpbg6{box-sizing:border-box;margin:0;min-width:0;max-width:46rem;width:90%;margin-left:auto;margin-right:auto;}</style><div class="css-1mhpbg6"><style data-emotion-css="hxzip4">.css-hxzip4{box-sizing:border-box;margin:0;min-width:0;margin-top:32px;margin-bottom:32px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}@media screen and (min-width:40em){.css-hxzip4{margin-top:64px;margin-bottom:64px;}}</style><div class="css-hxzip4"><div><div class="nav_logo__drPJg">âŒ˜</div></div><style data-emotion-css="wcquo4">.css-wcquo4{box-sizing:border-box;margin:0;min-width:0;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}</style><div class="css-wcquo4"></div><style data-emotion-css="vurnku">.css-vurnku{box-sizing:border-box;margin:0;min-width:0;}</style><a class="nav_link__KHlEJ link_link__PLOyB css-vurnku" href="/">Work</a></div><style data-emotion-css="raer2l">.css-raer2l{box-sizing:border-box;margin:0;min-width:0;margin-top:64px;}@media screen and (min-width:40em){.css-raer2l{margin-top:128px;}}</style><div class="css-raer2l"><div class="post"><h1>Creating Generative Art with D3</h1><p>I recently took a trip to the SFMoma where I came across the work of Sol LeWitt. One of the interesting things about Sol&#x27;s work was that he created the rules of his art pieces, but they were executable by anyone.</p><h2>Recreating an art piece, in code.</h2><p><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0"><img alt="Photo of a Heart" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Photo of a Heart" src="/images/heart.jpg" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></p><p>I created this heart using Illustrator around 8 years ago. I wanted to see how difficult it would be to create something similar using D3.js. I was looking for a technique that allowed me to create this effect using any SVG path.</p><p>First, I created a grid of SVG circles and colored them using a scale from color brewer.</p><p><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0"><img alt="Grid of Dots" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Grid of Dots" src="/images/gen-art-1.jpeg" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></p><p>Next, I imported a SVG path and tried to detect whether the center of a circle was inside the path. I found lots of ways to do this with polygons, but I wasn&#x27;t able to find a solution for SVG paths. Thankfully, I found a canvas method called <code>isPointInPath</code> that allowed me to do what I wanted.</p><p><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0"><img alt="Even Grid in Heart Shape" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Even Grid in Heart Shape" src="/images/gen-art-2.jpeg" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></p><p><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0"><img alt="Even Grid in Heart Shape" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Even Grid in Heart Shape" src="/images/gen-art-3.jpeg" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></p><p>This effect was really great on its own. But it&#x27;s not what I wanted for this piece. I didn&#x27;t want an even grid of circles. I wanted it to look like a human placed the circles.</p><p>I came across <a class="undefined link_link__PLOyB css-vurnku" style="text-decoration:underline" href="https://twitter.com/mbostock">Mike Bostock&#x27;s</a> example of <a class="undefined link_link__PLOyB css-vurnku" style="text-decoration:underline" href="https://bl.ocks.org/mbostock/d7bf3bd67d00ed79695b">Mitchell&#x27;s best candidate</a> in his article on <a class="undefined link_link__PLOyB css-vurnku" style="text-decoration:underline" href="https://bost.ocks.org/mike/algorithms/">visualizing algorithms</a> and realized it would be the perfect fit for the task. This algorithm takes a number of random coordinates, and then chooses the best candidate based on whatever point is farthest from all the others.</p><p>Using this algorithm, and help from one of Mike&#x27;s <a class="undefined link_link__PLOyB css-vurnku" style="text-decoration:underline" href="https://bl.ocks.org/mbostock/6224050">examples</a> I was able to get my final result.</p><img src="/images/heart.gif" alt="Photo of a Heart"/><p>I&#x27;m happy with it, but there are two problems I would love to have solved.</p><p>The first being the ability to detect whether or not a point is inside a path using SVG. Canvas is fine, but there are certain things I&#x27;d like to do with animations that are harder using canvas.</p><p>The second thing would be the ability to prevent circles from escaping the bounds of the path. Right now, i&#x27;m only checking the center of the circle to make sure it stays within the path. There&#x27;s probably a way to detect that the area of the circle hasn&#x27;t escaped the path but I haven&#x27;t found it yet.</p><h2>Explorations</h2><p>One of the side benefits of working on generative art in D3.js is that you discover new portions of the API. Below i&#x27;ve collected some of the things i&#x27;ve made this month.</p><figcaption>
  <img src="/images/ring-of-bars.gif" alt="ring-of-bars"/>
  Custom Arc Tweening
</figcaption><figcaption>
  <img src="/images/circle-tunnel.gif" alt="transitions example"/>
  Transitions
</figcaption><figcaption>
  <img src="/images/static.gif" alt="generating static example"/>
  Static
</figcaption><figcaption>
  <img src="/images/moire.jpg" alt="Working with radial lines"/>
  Radial Lines
</figcaption></div></div></div><div class="footer_footer__E_Uzl css-vurnku"><style data-emotion-css="hrtqhh">.css-hrtqhh{box-sizing:border-box;margin:0;min-width:0;font-size:20px;}@media screen and (min-width:40em){.css-hrtqhh{font-size:24px;}}</style><a class="undefined link_link__PLOyB css-hrtqhh" href="https://www.linkedin.com/in/jainmshah/">@jainamshah</a></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"generative-art","contentHtml":"\n# Creating Generative Art with D3\n\nI recently took a trip to the SFMoma where I came across the work of Sol LeWitt. One of the interesting things about Sol's work was that he created the rules of his art pieces, but they were executable by anyone.\n\n## Recreating an art piece, in code.\n\n![Photo of a Heart](/images/heart.jpg)\n\nI created this heart using Illustrator around 8 years ago. I wanted to see how difficult it would be to create something similar using D3.js. I was looking for a technique that allowed me to create this effect using any SVG path.\n\nFirst, I created a grid of SVG circles and colored them using a scale from color brewer.\n\n![Grid of Dots](/images/gen-art-1.jpeg)\n\nNext, I imported a SVG path and tried to detect whether the center of a circle was inside the path. I found lots of ways to do this with polygons, but I wasn't able to find a solution for SVG paths. Thankfully, I found a canvas method called `isPointInPath` that allowed me to do what I wanted.\n\n![Even Grid in Heart Shape](/images/gen-art-2.jpeg)\n\n![Even Grid in Heart Shape](/images/gen-art-3.jpeg)\n\nThis effect was really great on its own. But it's not what I wanted for this piece. I didn't want an even grid of circles. I wanted it to look like a human placed the circles.\n\nI came across [Mike Bostock's](https://twitter.com/mbostock) example of [Mitchell's best candidate](https://bl.ocks.org/mbostock/d7bf3bd67d00ed79695b) in his article on [visualizing algorithms](https://bost.ocks.org/mike/algorithms/) and realized it would be the perfect fit for the task. This algorithm takes a number of random coordinates, and then chooses the best candidate based on whatever point is farthest from all the others.\n\nUsing this algorithm, and help from one of Mike's [examples](https://bl.ocks.org/mbostock/6224050) I was able to get my final result.\n\n\u003cimg src=\"/images/heart.gif\" alt=\"Photo of a Heart\" /\u003e\n\nI'm happy with it, but there are two problems I would love to have solved.\n\nThe first being the ability to detect whether or not a point is inside a path using SVG. Canvas is fine, but there are certain things I'd like to do with animations that are harder using canvas.\n\nThe second thing would be the ability to prevent circles from escaping the bounds of the path. Right now, i'm only checking the center of the circle to make sure it stays within the path. There's probably a way to detect that the area of the circle hasn't escaped the path but I haven't found it yet.\n\n## Explorations\n\nOne of the side benefits of working on generative art in D3.js is that you discover new portions of the API. Below i've collected some of the things i've made this month.\n\n\u003cfigcaption\u003e\n  \u003cimg src=\"/images/ring-of-bars.gif\" alt=\"ring-of-bars\" /\u003e\n  Custom Arc Tweening\n\u003c/figcaption\u003e\n\n\u003cfigcaption\u003e\n  \u003cimg src=\"/images/circle-tunnel.gif\" alt=\"transitions example\" /\u003e\n  Transitions\n\u003c/figcaption\u003e\n\n\u003cfigcaption\u003e\n  \u003cimg src=\"/images/static.gif\" alt=\"generating static example\" /\u003e\n  Static\n\u003c/figcaption\u003e\n\n\u003cfigcaption\u003e\n  \u003cimg src=\"/images/moire.jpg\" alt=\"Working with radial lines\" /\u003e\n  Radial Lines\n\u003c/figcaption\u003e\n","title":"Creating Generative Art with D3","date":"2017-01-24"}},"__N_SSG":true},"page":"/writing/[id]","query":{"id":"generative-art"},"buildId":"dQT8d4wxZEc21rnXIq5MT","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>